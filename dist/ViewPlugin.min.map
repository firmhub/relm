{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6***************","webpack:///ViewPlugin.min.js","webpack:///./src/plugins/ViewPlugin.js?cecb"],"names":["root","factory","exports","module","define","amd","this","webpackJsonprelm__name_","52","__webpack_require__","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","_classCallCheck","instance","Constructor","TypeError","extendHyperscript","createElement","config","arguments","undefined","components","styles","selector","attrs","children","__WEBPACK_IMPORTED_MODULE_2_lodash_isPlainObject___default","__WEBPACK_IMPORTED_MODULE_4_lodash_assign___default","__WEBPACK_IMPORTED_MODULE_1_lodash_isArray___default","push","apply","n","child","filter","Boolean","parsed","parseTag","classes","className","hasOwnProperty","tag","joinClasses","Function","parser","match","exec","id","pair","truthyKeys","it","Object","keys","x","classesToArray","source","__WEBPACK_IMPORTED_MODULE_0_lodash_reduce___default","agg","split","_typeof","map","join","trim","__WEBPACK_IMPORTED_MODULE_0_lodash_reduce__","__WEBPACK_IMPORTED_MODULE_1_lodash_isArray__","__WEBPACK_IMPORTED_MODULE_2_lodash_isPlainObject__","__WEBPACK_IMPORTED_MODULE_3_lodash_get__","__WEBPACK_IMPORTED_MODULE_3_lodash_get___default","__WEBPACK_IMPORTED_MODULE_4_lodash_assign__","__WEBPACK_IMPORTED_MODULE_5_lodash_each__","__WEBPACK_IMPORTED_MODULE_5_lodash_each___default","d","internals","Symbol","iterator","obj","constructor","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","protoProps","staticProps","prototype","ViewPlugin","value","component","view","_len","_key","render","actions","tasks","state","getState","h","displayName","bind","name","path","init"],"mappings":"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","file":"ViewPlugin.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ViewPlugin\"] = factory();\n\telse\n\t\troot[\"relm\"] = root[\"relm\"] || {}, root[\"relm\"][\"ViewPlugin\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ViewPlugin\"] = factory();\n\telse\n\t\troot[\"relm\"] = root[\"relm\"] || {}, root[\"relm\"][\"ViewPlugin\"] = factory();\n})(this, function() {\nreturn webpackJsonprelm__name_([16],{\n\n/***/ 52:\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_reduce__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash_reduce___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_reduce__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash_isArray__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_lodash_isArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash_isArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash_isPlainObject__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash_isPlainObject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash_isPlainObject__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash_get__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_lodash_get___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_lodash_get__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_assign__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_lodash_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lodash_each__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_lodash_each___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_lodash_each__);\n/* harmony export */ exports[\"extendHyperscript\"] = extendHyperscript;\n/* harmony export */ __webpack_require__.d(exports, \"internals\", function() { return internals; });\n\n\n\n\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ViewPlugin = function () {\n  function ViewPlugin(createElement) {\n    _classCallCheck(this, ViewPlugin);\n\n    this.createElement = createElement;\n  }\n\n  _createClass(ViewPlugin, [{\n    key: 'apply',\n    value: function apply(component, source, root) {\n      component.view = function view(props) {\n        for (var _len = arguments.length, children = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          children[_key - 1] = arguments[_key];\n        }\n\n        return view.render({\n          props: props,\n          children: children,\n          actions: view.actions,\n          tasks: view.tasks,\n          state: view.getState(),\n          styles: view.styles,\n          components: view.components\n        });\n      };\n\n      var components = {};\n      var styles = component.styles;\n\n      // Clone the tag function so we can assign components to it (i.e. h.Component syntax)\n      var h = extendHyperscript(this.createElement, { components: components, styles: styles });\n      Object.defineProperty(h, 'createElement', { value: this.createElement });\n\n      // Assign components to h and components object in one pass\n      __WEBPACK_IMPORTED_MODULE_5_lodash_each___default()(component.components, function assignChildComponents(child, key) {\n        components[key] = h[key] = child.view;\n        child.view.displayName = key;\n      });\n\n      // Closure elimination - assign necessary props to the view fn\n      __WEBPACK_IMPORTED_MODULE_4_lodash_assign___default()(component.view, {\n        render: source.bind(null, h),\n        displayName: source.displayName || source.name,\n        actions: component.actions,\n        tasks: component.tasks,\n        styles: styles,\n        components: components,\n        getState: !component.path.length ? function () {\n          return root.getState();\n        } : function () {\n          return __WEBPACK_IMPORTED_MODULE_3_lodash_get___default()(root.getState(), component.path) || component.init();\n        }\n      });\n    }\n  }]);\n\n  return ViewPlugin;\n}();\n\n/* harmony default export */ exports[\"default\"] = ViewPlugin;\n\n\nfunction extendHyperscript(createElement) {\n  var config = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n  var components = config.components || {};\n  var styles = config.styles || {};\n\n  return function hyperscript() {\n    var selector = arguments[0];\n    var attrs = {};\n    var children = [];\n\n    // Attributes (second hyperscript arg) are optional\n    if (__WEBPACK_IMPORTED_MODULE_2_lodash_isPlainObject___default()(arguments[1])) {\n      __WEBPACK_IMPORTED_MODULE_4_lodash_assign___default()(attrs, arguments[1]);\n    } else if (__WEBPACK_IMPORTED_MODULE_1_lodash_isArray___default()(arguments[1])) {\n      children.push.apply(children, _toConsumableArray(arguments[1]));\n    } else {\n      children.push(arguments[1]);\n    }\n\n    // Filter and flatten children\n    for (var i = 2, n = arguments.length; i < n; i++) {\n      var child = arguments[i];\n\n      // Filter falsey children (null, undefined, false)\n      if (!child && typeof child !== 'string') continue;\n\n      if (__WEBPACK_IMPORTED_MODULE_1_lodash_isArray___default()(child)) {\n        children.push.apply(children, _toConsumableArray(child.filter(Boolean)));\n      } else {\n        children.push(child);\n      }\n    }\n\n    // Support extended tag syntax\n    if (typeof selector === 'string') {\n      var parsed = parseTag(selector);\n      // Attributes can be defined in selector as key value pairs or using # for id\n      if (parsed.attrs) __WEBPACK_IMPORTED_MODULE_4_lodash_assign___default()(attrs, parsed.attrs);\n\n      // Classes can be defined using dot syntax\n      if (parsed.classes) {\n        if (!attrs.className) attrs.className = parsed.classes;else attrs.className = [attrs.className, parsed.classes];\n      }\n\n      // Allow components to be defined also as h('SomeComponent.class#id', ...)\n      if (components.hasOwnProperty(parsed.tag)) {\n        selector = components[parsed.tag];\n      } else {\n        selector = parsed.tag;\n      }\n    }\n\n    // Join class names if not already joined\n    attrs.className = joinClasses(styles, attrs.className);\n\n    // Sub components\n    if (selector instanceof Function) {\n      return selector(attrs, children);\n    }\n\n    return createElement(selector, attrs, children);\n  };\n}\n\nfunction parseTag(selector) {\n  var tag = selector;\n  var attrs = void 0;\n  var classes = void 0;\n  var parser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[.+?\\])/g;\n  var match = void 0;\n\n  // eslint-disable-next-line no-cond-assign\n  while (match = parser.exec(selector)) {\n    if (match[1] === '' && match[2]) {\n      tag = match[2];\n    } else if (match[1] === '#') {\n      attrs = attrs || {};\n      attrs.id = match[2];\n    } else if (match[1] === '.') {\n      classes = classes || [];\n      classes.push(match[2]);\n    } else if (match[3][0] === '[') {\n      var pair = /\\[(.+?)(?:=(\"|'|)(.*?)\\2)?\\]/.exec(match[3]);\n      attrs = attrs || {};\n      attrs[pair[1]] = pair[3] || '';\n    }\n  }\n\n  return { tag: tag, attrs: attrs, classes: classes };\n}\n\nfunction truthyKeys(it) {\n  return Object.keys(it).filter(function (x) {\n    return it[x];\n  });\n}\n\nfunction classesToArray(source) {\n  if (!source) return [];\n\n  if (__WEBPACK_IMPORTED_MODULE_1_lodash_isArray___default()(source)) {\n    return __WEBPACK_IMPORTED_MODULE_0_lodash_reduce___default()(source, function cat(agg, it) {\n      agg.push.apply(agg, classesToArray(it));\n      return agg;\n    }, []);\n  }\n\n  if (typeof source === 'string') return source.split(' ');\n  if ((typeof source === 'undefined' ? 'undefined' : _typeof(source)) === 'object') return truthyKeys(source);\n\n  return [];\n}\n\nfunction joinClasses(styles, source) {\n  return classesToArray(source).filter(Boolean).map(function (x) {\n    return styles[x] || x;\n  }).join(' ').trim();\n}\n\nvar internals = {\n  parseTag: parseTag,\n  extendHyperscript: extendHyperscript,\n  joinClasses: joinClasses\n};\n\n/***/ }\n\n},[52])\n});\n;\n\n\n// WEBPACK FOOTER //\n// ViewPlugin.min.js","import _ from 'lodash';\n\nexport default class ViewPlugin {\n  constructor (createElement) {\n    this.createElement = createElement;\n  }\n\n  apply (component, source, root) {\n    component.view = function view (props, ...children) {\n      return view.render({\n        props,\n        children,\n        actions: view.actions,\n        tasks: view.tasks,\n        state: view.getState(),\n        styles: view.styles,\n        components: view.components,\n      });\n    };\n\n    const components = {};\n    const styles = component.styles;\n\n    // Clone the tag function so we can assign components to it (i.e. h.Component syntax)\n    const h = extendHyperscript(this.createElement, { components, styles });\n    Object.defineProperty(h, 'createElement', { value: this.createElement });\n\n    // Assign components to h and components object in one pass\n    _.each(component.components, function assignChildComponents (child, key) {\n      components[key] = h[key] = child.view;\n      child.view.displayName = key;\n    });\n\n    // Closure elimination - assign necessary props to the view fn\n    _.assign(component.view, {\n      render: source.bind(null, h),\n      displayName: source.displayName || source.name,\n      actions: component.actions,\n      tasks: component.tasks,\n      styles,\n      components,\n      getState: !component.path.length\n        ? () => root.getState()\n        : () => _.get(root.getState(), component.path) || component.init()\n    });\n  }\n}\n\nexport function extendHyperscript (createElement, config = {}) {\n  const components = config.components || {};\n  const styles = config.styles || {};\n\n  return function hyperscript () {\n    let selector = arguments[0];\n    const attrs = {};\n    const children = [];\n\n    // Attributes (second hyperscript arg) are optional\n    if (_.isPlainObject(arguments[1])) {\n      _.assign(attrs, arguments[1]);\n    } else if (_.isArray(arguments[1])) {\n      children.push(...arguments[1]);\n    } else {\n      children.push(arguments[1]);\n    }\n\n    // Filter and flatten children\n    for (let i = 2, n = arguments.length; i < n; i++) {\n      const child = arguments[i];\n\n      // Filter falsey children (null, undefined, false)\n      if (!child && typeof child !== 'string') continue;\n\n      if (_.isArray(child)) {\n        children.push(...child.filter(Boolean));\n      } else {\n        children.push(child);\n      }\n    }\n\n    // Support extended tag syntax\n    if (typeof selector === 'string') {\n      const parsed = parseTag(selector);\n      // Attributes can be defined in selector as key value pairs or using # for id\n      if (parsed.attrs) _.assign(attrs, parsed.attrs);\n\n      // Classes can be defined using dot syntax\n      if (parsed.classes) {\n        if (!attrs.className) attrs.className = parsed.classes;\n        else attrs.className = [attrs.className, parsed.classes];\n      }\n\n      // Allow components to be defined also as h('SomeComponent.class#id', ...)\n      if (components.hasOwnProperty(parsed.tag)) {\n        selector = components[parsed.tag];\n      } else {\n        selector = parsed.tag;\n      }\n    }\n\n    // Join class names if not already joined\n    attrs.className = joinClasses(styles, attrs.className);\n\n    // Sub components\n    if (selector instanceof Function) {\n      return selector(attrs, children);\n    }\n\n    return createElement(selector, attrs, children);\n  };\n}\n\nfunction parseTag (selector) {\n  let tag = selector;\n  let attrs;\n  let classes;\n  const parser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[.+?\\])/g;\n  let match;\n\n  // eslint-disable-next-line no-cond-assign\n  while ((match = parser.exec(selector))) {\n    if (match[1] === '' && match[2]) {\n      tag = match[2];\n    } else if (match[1] === '#') {\n      attrs = attrs || {};\n      attrs.id = match[2];\n    } else if (match[1] === '.') {\n      classes = classes || [];\n      classes.push(match[2]);\n    } else if (match[3][0] === '[') {\n      const pair = /\\[(.+?)(?:=(\"|'|)(.*?)\\2)?\\]/.exec(match[3]);\n      attrs = attrs || {};\n      attrs[pair[1]] = pair[3] || '';\n    }\n  }\n\n  return { tag, attrs, classes };\n}\n\nfunction truthyKeys (it) {\n  return Object.keys(it).filter(x => it[x]);\n}\n\nfunction classesToArray (source) {\n  if (!source) return [];\n\n  if (_.isArray(source)) {\n    return _.reduce(source, function cat (agg, it) {\n      agg.push.apply(agg, classesToArray(it));\n      return agg;\n    }, []);\n  }\n\n  if (typeof source === 'string') return source.split(' ');\n  if (typeof source === 'object') return truthyKeys(source);\n\n  return [];\n}\n\nfunction joinClasses (styles, source) {\n  return classesToArray(source).filter(Boolean).map(x => styles[x] || x).join(' ').trim();\n}\n\nexport const internals = {\n  parseTag,\n  extendHyperscript,\n  joinClasses,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/ViewPlugin.js"],"sourceRoot":""}